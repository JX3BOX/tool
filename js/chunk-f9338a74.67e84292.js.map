{"version":3,"sources":["webpack:///./src/components/design/emotion.vue?b6e3","webpack:///./node_modules/@jx3box/jx3box-common/js/axios.js","webpack:///./node_modules/@jx3box/jx3box-common/js/https.js","webpack:///./src/service/icons.js","webpack:///./src/components/design/emotion.vue","webpack:///src/components/design/emotion.vue","webpack:///./src/components/design/emotion.vue?b3d6","webpack:///./src/components/design/emotion.vue?cc80"],"names":["prototype","$notify","$message","$alert","alert","POP","loadPop","msg","popType","error","confirmButtonText","title","message","PopNextworkError","err","console","log","response","Promise","reject","installInterceptors","target","options","use","mute","data","installNextInterceptors","code","installCmsInterceptors","statusCode","$cms","domain","config","withCredentials","auth","username","localStorage","getItem","password","baseURL","headers","ins","a","create","$next","$node","proxy","getIconsByName","str","client","arguments","length","undefined","get","concat","params","then","res","getMyFavIcons","key","setMyFavIcons","post","val","getEmoList","axios","__dataPath","render","_vm","this","_c","_self","staticClass","_v","_l","emoList","item","i","class","active","group_id","on","$event","toChangeEmo","_s","group_name","items","emoji","emotion_id","attrs","EmojiPath","filename","slot","isDownloadingEmoji","nativeOn","stopPropagation","handleDownloadEmoji","staticRenderFns","name","props","__imgPath","EmotionRoot","computed","methods","getData","_this","search","URLSearchParams","location","type","find","fileType","link","document","createElement","href","download","click","filters","created","component"],"mappings":"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","file":"js/chunk-f9338a74.67e84292.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./emotion.vue?vue&type=style&index=0&id=93debde4&prod&lang=less&\"","import axios from \"axios\";\nimport Vue from \"vue\";\nimport { Message, Notification,MessageBox } from \"element-ui\";\nVue.prototype.$notify = Notification;\nVue.prototype.$message = Message;\nVue.prototype.$alert = MessageBox.alert;\nconst POP = new Vue();\nfunction loadPop(msg,popType='message'){\n    switch (popType){\n        case 'message':\n            POP.$message.error(msg)\n            break;\n        case 'alert':\n            POP.$alert(msg, '错误', {\n                confirmButtonText: '确定',\n            });\n            break;\n        case 'notify':\n            POP.$notify.error({\n                title: '错误',\n                message: msg\n              });\n            break;\n        default :\n            break;\n    }\n}\n\nfunction PopNextworkError(err){\n    console.log(err.response);\n    return Promise.reject(err);\n}\n\nfunction installInterceptors(target,options) {\n    let popType = options && options.popType || 'message'\n    target[\"interceptors\"][\"response\"].use(\n        function (response) {\n            return response;\n        },\n        function (err) {\n            if(!options || !options.mute){\n                if (err.response && err.response.data) {\n                    err.response.data.msg && loadPop(err.response.data.msg,popType);\n                } else {\n                    loadPop('网络请求异常',popType);\n                }\n            }\n            return PopNextworkError(err)\n        }\n    );\n}\nfunction installNextInterceptors(target,options) {\n    let popType = options && options.popType || 'message'\n    target[\"interceptors\"][\"response\"].use(\n        function (response) {\n            if (response.data.code) {\n                if(!options || !options.mute){\n                    response.data.msg && loadPop(`[${response.data.code}]${response.data.msg}`,popType);\n                }\n                return Promise.reject(response);\n            }\n            return response;\n        },\n        function (err) {\n            if(!options || !options.mute){\n                if(err.response && err.response.data && err.response.data.msg){\n                    loadPop(err.response.data.msg,popType);\n                }else{\n                    loadPop('接口异常',popType);\n                }\n            }\n            return PopNextworkError(err)\n        }\n    );\n}\nfunction installCmsInterceptors(target,options) {\n    let popType = options && options.popType || 'message'\n    target[\"interceptors\"][\"response\"].use(\n        function (response) {\n            if (response.data.code) {\n                if(!options || !options.mute){\n                    response.data.msg && loadPop(`[${response.data.code}]${response.data.msg}`,popType);\n                }\n                return Promise.reject(response);\n            }\n            return response;\n        },\n        function (err) {\n            if(!options || !options.mute){\n                loadPop(`[${err.response.data.statusCode}]${err.response.data.message}`,popType);\n            }\n            return PopNextworkError(err)\n        }\n    );\n}\nfunction installHelperInterceptors(target,options) {\n    let popType = options && options.popType || 'message'\n    target[\"interceptors\"][\"response\"].use(\n        function (response) {\n            if (response.data.code == 200 || !response.data.code) {\n                return response;\n            }else{\n                if(!options || !options.mute){\n                    loadPop(`[${response.data.code}]${response.data.message}`,popType);\n                }\n                return Promise.reject(response);\n            }\n        },\n        function (err) {\n            if(!options || !options.mute){\n                loadPop('网络请求异常',popType);\n            }\n            return PopNextworkError(err)\n        }\n    );\n}\n\nexport {\n    axios,\n    POP,\n    installInterceptors,\n    installNextInterceptors,\n    installHelperInterceptors,\n    installCmsInterceptors\n};","import { axios, installInterceptors, installNextInterceptors, installHelperInterceptors, installCmsInterceptors } from \"./axios\";\n\nimport { __server, __cms, __node, __spider, __next, __pay, __helperUrl, __team, __lua } from \"../data/jx3box.json\";\n\nconst server_map = {\n    server: __server,\n    cms: __cms,\n    node: __node,\n    spider: __spider,\n    pay: __pay,\n    team: __team,\n    helper: __helperUrl,\n};\n\n// cms通用请求接口\nfunction $cms(options) {\n    let domain = options && options.domain || __cms;\n    let config = {\n        // 同时发送cookie和basic auth\n        withCredentials: true,\n        auth: {\n            username: (localStorage && localStorage.getItem(\"token\")) || \"\",\n            password: \"cms common request\",\n        },\n        baseURL: process.env.NODE_ENV === \"production\" ? domain : \"/\",\n        headers: {},\n    };\n\n    // 创建实例\n    const ins = axios.create(config);\n\n    // 指定拦截器\n    installCmsInterceptors(ins, options);\n\n    return ins;\n}\n\n// helper通用请求接口\nimport { jx3ClientType } from \"./utils\";\nfunction $helper(options) {\n    let domain = options && options.domain || __helperUrl;\n    let config = {\n        // 同时发送cookie和basic auth\n        withCredentials: true,\n        auth: {\n            username: (localStorage && localStorage.getItem(\"token\")) || \"\",\n            password: \"helper common request\",\n        },\n        baseURL: domain,\n        headers: {\n            Accept: \"application/prs.helper.v2+json\",\n            \"JX3-Client-Type\": (options && options.client_id) || jx3ClientType(),\n        },\n    };\n\n    // 附加headers\n    if (options && options.headers) {\n        config.headers = Object.assign(config.headers, options.headers);\n    }\n\n    // 是否需要开启本地代理作为测试\n    if (options && options.proxy) {\n        config.baseURL = process.env.NODE_ENV === \"production\" ? domain : \"/\";\n    }\n\n    // 创建实例\n    const ins = axios.create(config);\n\n    // 指定拦截器\n    installHelperInterceptors(ins, options);\n\n    return ins;\n}\n\n// next通用请求接口\nfunction $next(options) {\n    let domain = options && options.domain || __next;\n    let config = {\n        // 同时发送cookie和basic auth\n        withCredentials: true,\n        auth: {\n            username: (localStorage && localStorage.getItem(\"token\")) || \"\",\n            password: \"next common request\",\n        },\n        baseURL: process.env.NODE_ENV === \"production\" ? domain : \"/\",\n        headers: {},\n    };\n\n    // 创建实例\n    const ins = axios.create(config);\n\n    // 指定拦截器\n    installNextInterceptors(ins, options);\n\n    return ins;\n}\n\nfunction $team(options) {\n    let _options = options && Object.assign(options, { domain: __team }) || { domain: __team };\n    return $next(_options);\n}\n\nfunction $pay(options) {\n    let _options = options && Object.assign(options, { domain: __pay }) || { domain: __pay };\n    return $next(_options);\n}\n\nfunction $lua(options) {\n    let _options = options && Object.assign(options, { domain: __lua }) || { domain: __lua };\n    return $next(_options);\n}\n\n// node\nfunction $node(options) {\n    let domain = options && options.domain || __node;\n    let config = {\n        // 同时发送cookie和basic auth\n        withCredentials: true,\n        auth: {\n            username: (localStorage && localStorage.getItem(\"token\")) || \"\",\n            password: \"node common request\",\n        },\n        baseURL: domain,\n    };\n\n    // 是否需要开启本地代理作为测试\n    if (options && options.proxy) {\n        config.baseURL = process.env.NODE_ENV === \"production\" ? domain : `http://localhost:${options.port}`;\n    }\n\n    // 创建实例\n    const ins = axios.create(config);\n\n    // 指定拦截器\n    installInterceptors(ins, options);\n\n    return ins;\n}\n\n\nimport { tokenExpires } from \"../data/conf.json\";\nfunction isLogin() {\n    let created_at = !localStorage.getItem(\"created_at\") ? -Infinity : localStorage.getItem(\"created_at\");\n    let logged_in = localStorage.getItem(\"logged_in\") == \"true\" ? true : false;\n    return logged_in && Date.now() - created_at < tokenExpires;\n}\n\n// 不带鉴权的请求\nfunction $https(server, options) {\n    let config = {\n        headers: {},\n    };\n\n    // Helper指定请求头\n    if (server == \"helper\") {\n        config.headers.Accept = \"application/prs.helper.v2+json\";\n    }\n\n    // 是否需要开启本地代理作为测试\n    if (options && options.proxy) {\n        config.baseURL = process.env.NODE_ENV === \"production\" ? server_map[server] : \"/\";\n    } else {\n        config.baseURL = server_map[server];\n    }\n\n    // 创建实例\n    const ins = axios.create(config);\n\n    // 指定拦截器\n    if (options && options.interceptor) {\n        interceptor_map[options.interceptor](ins, options);\n    } else {\n        installInterceptors(ins, options);\n    }\n\n    return ins;\n}\n\n// 带鉴权的请求\nfunction $_https(server, options) {\n    // 如果前端已经退出不发起请求\n    if (!isLogin()) {\n        return Promise.reject(\"请先登录\");\n    }\n\n    let config = {\n        // 同时发送cookie和basic auth\n        withCredentials: true,\n        auth: {\n            username: (localStorage && localStorage.getItem(\"token\")) || \"\",\n            password: \"$_https common request\",\n        },\n        baseURL: process.env.NODE_ENV === \"production\" ? server_map[server] : \"/\",\n        headers: {},\n    };\n\n    // Helper指定请求头\n    if (server == \"helper\") {\n        config.headers.Accept = \"application/prs.helper.v2+json\";\n    }\n\n    // 是否需要开启本地代理作为测试\n    if (!options || options.proxy || options.proxy === undefined) {\n        config.baseURL = process.env.NODE_ENV === \"production\" ? server_map[server] : \"/\";\n    } else {\n        config.baseURL = server_map[server];\n    }\n\n    // 创建实例\n    const ins = axios.create(config);\n\n    // 指定拦截器\n    if (options && options.interceptor) {\n        interceptor_map[options.interceptor](ins, options);\n    } else {\n        installInterceptors(ins, options);\n    }\n\n    return ins;\n}\n\nexport { $https, $_https, $cms, $helper, $next, $team, $pay, $node, $lua, axios };\n","import axios from \"axios\";\nimport { $cms, $node } from \"@jx3box/jx3box-common/js/https\";\nimport { __dataPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\n\nfunction getIconsByName(str, client = \"std\") {\n    return $node()\n        .get(`/icon/name/${str}`, {\n            params: {\n                client: client,\n            },\n        })\n        .then((res) => {\n            return res.data;\n        });\n}\n\nfunction getMyFavIcons(client = \"std\") {\n    let key = client == \"origin\" ? \"origin_favicons\" : \"favicons\";\n    return $cms()\n        .get(`/api/cms/user/my/meta`, {\n            params: {\n                key: key,\n            },\n        })\n        .then((res) => {\n            return res.data.data;\n        });\n}\n\nfunction setMyFavIcons(data, client = \"std\") {\n    let key = client == \"origin\" ? \"origin_favicons\" : \"favicons\";\n    return $cms()\n        .post(\n            `/api/cms/user/my/meta`,\n            {\n                val: data,\n            },\n            {\n                params: {\n                    key: key,\n                },\n            }\n        )\n        .then((res) => {\n            return res.data.data;\n        });\n}\n\nfunction getEmoList() {\n    return axios.get(__dataPath + `emotion/output/catalog.json`).then((res) => {\n        return res.data;\n    });\n}\n\nexport { getIconsByName, getMyFavIcons, setMyFavIcons, getEmoList };\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-emotion\"},[_c('h1',{staticClass:\"m-icons-title\"},[_vm._v(\"剑三表情包\")]),_c('div',{staticClass:\"m-emotion-nav\"},_vm._l((_vm.emoList),function(item,i){return _c('div',{key:i,staticClass:\"u-btn\",class:{ active: item.group_id === _vm.active.group_id },on:{\"click\":function($event){return _vm.toChangeEmo(item)}}},[_c('span',[_vm._v(\" \"+_vm._s(item.group_name)+\" \"),_c('b',[_vm._v(\"（\"+_vm._s(item.items.length)+\"）\")])])])}),0),_c('div',{staticClass:\"m-emotion-list\"},_vm._l((_vm.active.items),function(emoji){return _c('el-image',{key:emoji.emotion_id,staticClass:\"u-img\",attrs:{\"alt\":emoji.key,\"title\":`${emoji.key}`,\"src\":`${_vm.EmojiPath}${emoji.filename}`}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('i',{staticClass:\"el-icon-loading\"})]),_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-warning-outline\"})])])}),1),_c('div',{staticClass:\"m-emotion-download\"},[_c('el-button',{staticClass:\"u-btn\",attrs:{\"loading\":_vm.isDownloadingEmoji,\"type\":\"primary\",\"icon\":\"el-icon-download\"},nativeOn:{\"click\":function($event){$event.stopPropagation();return _vm.handleDownloadEmoji('zip')}}},[_vm._v(\" 下载压缩包 (.zip) \")]),_c('el-button',{staticClass:\"u-btn\",attrs:{\"loading\":_vm.isDownloadingEmoji,\"type\":\"primary\",\"icon\":\"el-icon-download\"},nativeOn:{\"click\":function($event){$event.stopPropagation();return _vm.handleDownloadEmoji('eif')}}},[_vm._v(\" 下载QQ表情包 (.eif) \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-emotion\">\n        <h1 class=\"m-icons-title\">剑三表情包</h1>\n        <div class=\"m-emotion-nav\">\n            <div\n                class=\"u-btn\"\n                :class=\"{ active: item.group_id === active.group_id }\"\n                v-for=\"(item, i) in emoList\"\n                :key=\"i\"\n                @click=\"toChangeEmo(item)\"\n            >\n                <span>\n                    {{ item.group_name }} <b>（{{ item.items.length }}）</b>\n                </span>\n            </div>\n        </div>\n        <div class=\"m-emotion-list\">\n            <el-image\n                class=\"u-img\"\n                v-for=\"emoji in active.items\"\n                :key=\"emoji.emotion_id\"\n                v-bind:alt=\"emoji.key\"\n                :title=\"`${emoji.key}`\"\n                :src=\"`${EmojiPath}${emoji.filename}`\"\n            >\n                <div slot=\"placeholder\" class=\"image-slot\">\n                    <i class=\"el-icon-loading\"></i>\n                </div>\n                <div slot=\"error\" class=\"image-slot\">\n                    <i class=\"el-icon-warning-outline\"></i>\n                </div>\n            </el-image>\n        </div>\n        <div class=\"m-emotion-download\">\n            <el-button\n                class=\"u-btn\"\n                :loading=\"isDownloadingEmoji\"\n                type=\"primary\"\n                @click.native.stop=\"handleDownloadEmoji('zip')\"\n                icon=\"el-icon-download\"\n            >\n                下载压缩包 (.zip)\n            </el-button>\n            <el-button\n                class=\"u-btn\"\n                :loading=\"isDownloadingEmoji\"\n                type=\"primary\"\n                @click.native.stop=\"handleDownloadEmoji('eif')\"\n                icon=\"el-icon-download\"\n            >\n                下载QQ表情包 (.eif)\n            </el-button>\n        </div>\n    </div>\n</template>\n<script>\nimport { getEmoList } from \"@/service/icons.js\";\nimport { __dataPath, __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\nexport default {\n    name: \"emotion\",\n    props: [\"list\"],\n    data: function () {\n        return {\n            emoList: [],\n            active: \"\",\n            EmojiPath: __imgPath + \"emotion/output/\",\n            EmotionRoot: __imgPath + \"emotion/\",\n            isDownloadingEmoji: false,\n        };\n    },\n    computed: {},\n    methods: {\n        getData() {\n            getEmoList().then((res) => {\n                this.emoList = res;\n\n                const search = new URLSearchParams(location.search);\n                const type = search.get(\"type\");\n\n                if (type) {\n                    this.active = this.emoList.find((item) => item.group_name == type);\n                } else {\n                    this.active = res[0];\n                }\n            });\n        },\n        toChangeEmo(item) {\n            this.active = item;\n        },\n        handleDownloadEmoji(fileType) {\n            this.isDownloadingEmoji = true;\n\n            const { EmotionRoot, active } = this;\n\n            let link = document.createElement(\"a\");\n            link.href = `${EmotionRoot}${fileType}/${active.group_name}.${fileType}`;\n            link.download = `${active.group_name}.${fileType}`;\n            link.click();\n\n            this.isDownloadingEmoji = false;\n        },\n    },\n    filters: {},\n    created: function () {\n        this.getData();\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/design/emotion.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./emotion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./emotion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./emotion.vue?vue&type=template&id=93debde4&\"\nimport script from \"./emotion.vue?vue&type=script&lang=js&\"\nexport * from \"./emotion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./emotion.vue?vue&type=style&index=0&id=93debde4&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}