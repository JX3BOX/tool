{"version":3,"sources":["webpack:///./src/service/icons.js","webpack:///./src/components/design/emotion.vue","webpack:///src/components/design/emotion.vue","webpack:///./src/components/design/emotion.vue?b3d6","webpack:///./src/components/design/emotion.vue?cc80","webpack:///./src/components/design/emotion.vue?c4e4"],"names":["getIconsByName","str","client","arguments","length","undefined","$node","get","concat","params","then","res","data","getMyFavIcons","key","$cms","setMyFavIcons","post","val","getEmoList","axios","__dataPath","render","_vm","this","_c","_self","staticClass","_l","emoList","item","i","class","active","group_id","on","$event","toChangeEmo","_v","_s","group_name","items","emoji","emotion_id","attrs","EmojiPath","filename","slot","isDownloadingEmoji","nativeOn","stopPropagation","handleDownloadEmoji","staticRenderFns","name","props","__imgPath","EmotionRoot","computed","methods","getData","_this","search","URLSearchParams","location","type","find","fileType","link","document","createElement","href","download","click","filters","created","component"],"mappings":"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","file":"js/chunk-18a941c8.af7b3ce6.js","sourcesContent":["import axios from \"axios\";\nimport { $cms, $node } from \"@jx3box/jx3box-common/js/https\";\nimport { __dataPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\n\nfunction getIconsByName(str, client = \"std\") {\n    return $node()\n        .get(`/icon/name/${str}`, {\n            params: {\n                client: client,\n            },\n        })\n        .then((res) => {\n            return res.data;\n        });\n}\n\nfunction getMyFavIcons(client = \"std\") {\n    let key = client == \"origin\" ? \"origin_favicons\" : \"favicons\";\n    return $cms()\n        .get(`/api/cms/user/my/meta`, {\n            params: {\n                key: key,\n            },\n        })\n        .then((res) => {\n            return res.data.data;\n        });\n}\n\nfunction setMyFavIcons(data, client = \"std\") {\n    let key = client == \"origin\" ? \"origin_favicons\" : \"favicons\";\n    return $cms()\n        .post(\n            `/api/cms/user/my/meta`,\n            {\n                val: data,\n            },\n            {\n                params: {\n                    key: key,\n                },\n            }\n        )\n        .then((res) => {\n            return res.data.data;\n        });\n}\n\nfunction getEmoList() {\n    return axios.get(__dataPath + `emotion/output/catalog.json`).then((res) => {\n        return res.data;\n    });\n}\n\nexport { getIconsByName, getMyFavIcons, setMyFavIcons, getEmoList };\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-emotion\"},[_c('div',{staticClass:\"m-emotion-nav\"},_vm._l((_vm.emoList),function(item,i){return _c('div',{key:i,staticClass:\"u-btn\",class:{ active: item.group_id === _vm.active.group_id },on:{\"click\":function($event){return _vm.toChangeEmo(item)}}},[_c('span',[_vm._v(\" \"+_vm._s(item.group_name)+\" \"),_c('b',[_vm._v(\"（\"+_vm._s(item.items.length)+\"）\")])])])}),0),_c('div',{staticClass:\"m-emotion-list\"},_vm._l((_vm.active.items),function(emoji){return _c('el-image',{key:emoji.emotion_id,staticClass:\"u-img\",attrs:{\"alt\":emoji.key,\"title\":`${emoji.key}`,\"src\":`${_vm.EmojiPath}${emoji.filename}`}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('i',{staticClass:\"el-icon-loading\"})]),_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-warning-outline\"})])])}),1),_c('div',{staticClass:\"m-emotion-download\"},[_c('el-button',{staticClass:\"u-btn\",attrs:{\"loading\":_vm.isDownloadingEmoji,\"type\":\"primary\",\"icon\":\"el-icon-download\"},nativeOn:{\"click\":function($event){$event.stopPropagation();return _vm.handleDownloadEmoji('zip')}}},[_vm._v(\" 下载压缩包 (.zip) \")]),_c('el-button',{staticClass:\"u-btn\",attrs:{\"loading\":_vm.isDownloadingEmoji,\"type\":\"primary\",\"icon\":\"el-icon-download\"},nativeOn:{\"click\":function($event){$event.stopPropagation();return _vm.handleDownloadEmoji('eif')}}},[_vm._v(\" 下载QQ表情包 (.eif) \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-emotion\">\n        <div class=\"m-emotion-nav\">\n            <div\n                class=\"u-btn\"\n                :class=\"{ active: item.group_id === active.group_id }\"\n                v-for=\"(item, i) in emoList\"\n                :key=\"i\"\n                @click=\"toChangeEmo(item)\"\n            >\n                <span>\n                    {{ item.group_name }} <b>（{{ item.items.length }}）</b>\n                </span>\n            </div>\n        </div>\n        <div class=\"m-emotion-list\">\n            <el-image\n                class=\"u-img\"\n                v-for=\"emoji in active.items\"\n                :key=\"emoji.emotion_id\"\n                v-bind:alt=\"emoji.key\"\n                :title=\"`${emoji.key}`\"\n                :src=\"`${EmojiPath}${emoji.filename}`\"\n            >\n                <div slot=\"placeholder\" class=\"image-slot\">\n                    <i class=\"el-icon-loading\"></i>\n                </div>\n                <div slot=\"error\" class=\"image-slot\">\n                    <i class=\"el-icon-warning-outline\"></i>\n                </div>\n            </el-image>\n        </div>\n        <div class=\"m-emotion-download\">\n            <el-button\n                class=\"u-btn\"\n                :loading=\"isDownloadingEmoji\"\n                type=\"primary\"\n                @click.native.stop=\"handleDownloadEmoji('zip')\"\n                icon=\"el-icon-download\"\n            >\n                下载压缩包 (.zip)\n            </el-button>\n            <el-button\n                class=\"u-btn\"\n                :loading=\"isDownloadingEmoji\"\n                type=\"primary\"\n                @click.native.stop=\"handleDownloadEmoji('eif')\"\n                icon=\"el-icon-download\"\n            >\n                下载QQ表情包 (.eif)\n            </el-button>\n        </div>\n    </div>\n</template>\n<script>\nimport { getEmoList } from \"@/service/icons.js\";\nimport { __dataPath, __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\nexport default {\n    name: \"emotion\",\n    props: [\"list\"],\n    data: function () {\n        return {\n            emoList: [],\n            active: \"\",\n            EmojiPath: __imgPath + \"emotion/output/\",\n            EmotionRoot: __imgPath + \"emotion/\",\n            isDownloadingEmoji: false,\n        };\n    },\n    computed: {},\n    methods: {\n        getData() {\n            getEmoList().then((res) => {\n                this.emoList = res;\n\n                const search = new URLSearchParams(location.search);\n                const type = search.get(\"type\");\n\n                if (type) {\n                    this.active = this.emoList.find((item) => item.group_name == type);\n                } else {\n                    this.active = res[0];\n                }\n            });\n        },\n        toChangeEmo(item) {\n            this.active = item;\n        },\n        handleDownloadEmoji(fileType) {\n            this.isDownloadingEmoji = true;\n\n            const { EmotionRoot, active } = this;\n\n            let link = document.createElement(\"a\");\n            link.href = `${EmotionRoot}${fileType}/${active.group_name}.${fileType}`;\n            link.download = `${active.group_name}.${fileType}`;\n            link.click();\n\n            this.isDownloadingEmoji = false;\n        },\n    },\n    filters: {},\n    created: function () {\n        this.getData();\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/design/emotion.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./emotion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./emotion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./emotion.vue?vue&type=template&id=4d107439&\"\nimport script from \"./emotion.vue?vue&type=script&lang=js&\"\nexport * from \"./emotion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./emotion.vue?vue&type=style&index=0&id=4d107439&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./emotion.vue?vue&type=style&index=0&id=4d107439&prod&lang=less&\""],"sourceRoot":""}