{"version":3,"sources":["webpack:///./src/service/icons.js","webpack:///./src/components/design/emotion.vue?de6a","webpack:///./src/components/design/emotion.vue","webpack:///src/components/design/emotion.vue","webpack:///./src/components/design/emotion.vue?e500","webpack:///./src/components/design/emotion.vue?cc80"],"names":["getIconsByName","str","client","arguments","length","undefined","$node","get","concat","params","then","res","data","getIcons","getIconLatest","getMyFavIcons","key","$cms","setMyFavIcons","post","val","getEmoList","axios","__dataPath","render","_vm","this","_c","_self","staticClass","_v","_l","emoList","item","i","class","active","group_id","on","$event","toChangeEmo","_s","group_name","items","emoji","emotion_id","attrs","EmojiPath","filename","slot","isDownloadingEmoji","nativeOn","stopPropagation","handleDownloadEmoji","staticRenderFns","name","props","__imgPath","EmotionRoot","computed","methods","getData","_this","search","URLSearchParams","location","type","find","fileType","link","document","createElement","href","download","click","filters","created","component"],"mappings":"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","file":"js/chunk-5a7a15a4.eb1f049c.js","sourcesContent":["import axios from \"axios\";\nimport { $cms, $node } from \"@jx3box/jx3box-common/js/https\";\nimport { __dataPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\n\nfunction getIconsByName(str, client = \"std\") {\n    return $node()\n        .get(`/icon/name/${str}`, {\n            params: {\n                client: client,\n            },\n        })\n        .then((res) => {\n            return res.data;\n        });\n}\n\nfunction getIcons(params) {\n    return $node().get(`/icon`, { params });\n}\n\nfunction getIconLatest(params){\n    return $node().get(`/icon/latest`, { params });\n}\n\nfunction getMyFavIcons(client = \"std\") {\n    let key = client == \"origin\" ? \"origin_favicons\" : \"favicons\";\n    return $cms()\n        .get(`/api/cms/user/my/meta`, {\n            params: {\n                key: key,\n            },\n        })\n        .then((res) => {\n            return res.data.data;\n        });\n}\n\nfunction setMyFavIcons(data, client = \"std\") {\n    let key = client == \"origin\" ? \"origin_favicons\" : \"favicons\";\n    return $cms()\n        .post(\n            `/api/cms/user/my/meta`,\n            {\n                val: data,\n            },\n            {\n                params: {\n                    key: key,\n                },\n            }\n        )\n        .then((res) => {\n            return res.data.data;\n        });\n}\n\nfunction getEmoList() {\n    return axios.get(__dataPath + `emotion/output/catalog.json`).then((res) => {\n        return res.data;\n    });\n}\n\nexport { getIconsByName, getMyFavIcons, setMyFavIcons, getEmoList, getIcons, getIconLatest };\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./emotion.vue?vue&type=style&index=0&id=93debde4&prod&lang=less\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-emotion\"},[_c('h1',{staticClass:\"m-icons-title\"},[_vm._v(\"剑三表情包\")]),_c('div',{staticClass:\"m-emotion-nav\"},_vm._l((_vm.emoList),function(item,i){return _c('div',{key:i,staticClass:\"u-btn\",class:{ active: item.group_id === _vm.active.group_id },on:{\"click\":function($event){return _vm.toChangeEmo(item)}}},[_c('span',[_vm._v(\" \"+_vm._s(item.group_name)+\" \"),_c('b',[_vm._v(\"（\"+_vm._s(item.items.length)+\"）\")])])])}),0),_c('div',{staticClass:\"m-emotion-list\"},_vm._l((_vm.active.items),function(emoji){return _c('el-image',{key:emoji.emotion_id,staticClass:\"u-img\",attrs:{\"alt\":emoji.key,\"title\":`${emoji.key}`,\"src\":`${_vm.EmojiPath}${emoji.filename}`}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('i',{staticClass:\"el-icon-loading\"})]),_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-warning-outline\"})])])}),1),_c('div',{staticClass:\"m-emotion-download\"},[_c('el-button',{staticClass:\"u-btn\",attrs:{\"loading\":_vm.isDownloadingEmoji,\"type\":\"primary\",\"icon\":\"el-icon-download\"},nativeOn:{\"click\":function($event){$event.stopPropagation();return _vm.handleDownloadEmoji('zip')}}},[_vm._v(\" 下载压缩包 (.zip) \")]),_c('el-button',{staticClass:\"u-btn\",attrs:{\"loading\":_vm.isDownloadingEmoji,\"type\":\"primary\",\"icon\":\"el-icon-download\"},nativeOn:{\"click\":function($event){$event.stopPropagation();return _vm.handleDownloadEmoji('eif')}}},[_vm._v(\" 下载QQ表情包 (.eif) \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-emotion\">\n        <h1 class=\"m-icons-title\">剑三表情包</h1>\n        <div class=\"m-emotion-nav\">\n            <div\n                class=\"u-btn\"\n                :class=\"{ active: item.group_id === active.group_id }\"\n                v-for=\"(item, i) in emoList\"\n                :key=\"i\"\n                @click=\"toChangeEmo(item)\"\n            >\n                <span>\n                    {{ item.group_name }} <b>（{{ item.items.length }}）</b>\n                </span>\n            </div>\n        </div>\n        <div class=\"m-emotion-list\">\n            <el-image\n                class=\"u-img\"\n                v-for=\"emoji in active.items\"\n                :key=\"emoji.emotion_id\"\n                v-bind:alt=\"emoji.key\"\n                :title=\"`${emoji.key}`\"\n                :src=\"`${EmojiPath}${emoji.filename}`\"\n            >\n                <div slot=\"placeholder\" class=\"image-slot\">\n                    <i class=\"el-icon-loading\"></i>\n                </div>\n                <div slot=\"error\" class=\"image-slot\">\n                    <i class=\"el-icon-warning-outline\"></i>\n                </div>\n            </el-image>\n        </div>\n        <div class=\"m-emotion-download\">\n            <el-button\n                class=\"u-btn\"\n                :loading=\"isDownloadingEmoji\"\n                type=\"primary\"\n                @click.native.stop=\"handleDownloadEmoji('zip')\"\n                icon=\"el-icon-download\"\n            >\n                下载压缩包 (.zip)\n            </el-button>\n            <el-button\n                class=\"u-btn\"\n                :loading=\"isDownloadingEmoji\"\n                type=\"primary\"\n                @click.native.stop=\"handleDownloadEmoji('eif')\"\n                icon=\"el-icon-download\"\n            >\n                下载QQ表情包 (.eif)\n            </el-button>\n        </div>\n    </div>\n</template>\n<script>\nimport { getEmoList } from \"@/service/icons.js\";\nimport { __dataPath, __imgPath } from \"@jx3box/jx3box-common/data/jx3box.json\";\nexport default {\n    name: \"emotion\",\n    props: [\"list\"],\n    data: function () {\n        return {\n            emoList: [],\n            active: \"\",\n            EmojiPath: __imgPath + \"emotion/output/\",\n            EmotionRoot: __imgPath + \"emotion/\",\n            isDownloadingEmoji: false,\n        };\n    },\n    computed: {},\n    methods: {\n        getData() {\n            getEmoList().then((res) => {\n                this.emoList = res;\n\n                const search = new URLSearchParams(location.search);\n                const type = search.get(\"type\");\n\n                if (type) {\n                    this.active = this.emoList.find((item) => item.group_name == type);\n                } else {\n                    this.active = res[0];\n                }\n            });\n        },\n        toChangeEmo(item) {\n            this.active = item;\n        },\n        handleDownloadEmoji(fileType) {\n            this.isDownloadingEmoji = true;\n\n            const { EmotionRoot, active } = this;\n\n            let link = document.createElement(\"a\");\n            link.href = `${EmotionRoot}${fileType}/${active.group_name}.${fileType}`;\n            link.download = `${active.group_name}.${fileType}`;\n            link.click();\n\n            this.isDownloadingEmoji = false;\n        },\n    },\n    filters: {},\n    created: function () {\n        this.getData();\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/design/emotion.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./emotion.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./emotion.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./emotion.vue?vue&type=template&id=93debde4\"\nimport script from \"./emotion.vue?vue&type=script&lang=js\"\nexport * from \"./emotion.vue?vue&type=script&lang=js\"\nimport style0 from \"./emotion.vue?vue&type=style&index=0&id=93debde4&prod&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}